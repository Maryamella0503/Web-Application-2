{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
    <h2 class="text-center mb-4">Safety Tips</h2>

    <div class="row justify-content-center">
        <div class="col-md-8">
            <!-- Dropdown to filter by crime type -->
            <form method="GET" action="/safety-tips" class="mb-4">
                <label for="crime_type" class="form-label">Filter by Crime Type:</label>
                <select id="crime_type" name="crime_type" class="form-select" onchange="showTips()">
                    <option value="">-- Select Crime Type --</option>
                    <option value="Theft">Theft</option>
                    <option value="Assault">Assault</option>
                    <option value="Burglary">Burglary</option>
                    <option value="Vehicle Crime">Vehicle Crime</option>
                    <option value="Shoplifting">Shoplifting</option>
                    <option value="Antisocial Behaviour">Antisocial Behaviour</option>
                    <option value="Arson">Arson</option>
                    <option value="Public Order">Public Order</option>
                    <option value="Drugs">Drugs</option>
                </select>
            </form>

            <!-- Display safety tips -->
            <div id="safety-tips" class="mt-4 p-3 border rounded bg-light">
                <p class="text-muted">Select a crime type to view safety tips.</p>
            </div>
        </div>
    </div>
</div>

<!-- JavaScript for filtering safety tips -->
<script>
    const tipsData = {
        "Theft": [
            "Keep your belongings secure and avoid displaying valuables.",
            "Be cautious in crowded areas to avoid pickpockets.",
            "Avoid using your phone or other electronics in areas known for theft."
        ],
        "Assault": [
            "Avoid walking alone at night and stay in well-lit areas.",
            "Consider carrying a personal safety alarm.",
            "Plan your route in advance and let someone know where youâ€™re going."
        ],
        "Burglary": [
            "Ensure your doors and windows are locked before leaving.",
            "Install security cameras and motion sensor lights.",
            "Keep valuables out of sight from windows."
        ],
        "Vehicle Crime": [
            "Always lock your car doors and roll up windows when leaving your vehicle.",
            "Park in well-lit and busy areas, ideally with surveillance cameras.",
            "Avoid leaving valuables visible in the car."
        ],
        "Shoplifting": [
            "Ensure proper surveillance in stores with visible CCTV cameras.",
            "Train employees to identify suspicious behavior.",
            "Keep valuable items in locked cabinets."
        ],
        "Antisocial Behaviour": [
            "Avoid engaging with individuals displaying antisocial behavior.",
            "Stay in well-lit, populated areas.",
            "Report disturbances to local authorities immediately."
        ],
        "Arson": [
            "Ensure your home or business is equipped with functioning smoke detectors.",
            "Keep flammable materials, like paper and chemicals, away from heat sources.",
            "Install security cameras to deter potential arsonists."
        ],
        "Public Order": [
            "Avoid large gatherings or protests if they appear tense.",
            "Stay calm and move away from escalating situations.",
            "Avoid alcohol or substance abuse in public areas."
        ],
        "Drugs": [
            "Report suspicious drug activity to local law enforcement anonymously.",
            "Avoid areas known for drug-related incidents.",
            "Avoid accepting drinks or substances from strangers."
        ]
    };

    function showTips() {
        const selectedCrime = document.getElementById("crime_type").value;
        const tipsContainer = document.getElementById("safety-tips");
        tipsContainer.innerHTML = ""; // Clear existing tips

        if (selectedCrime && tipsData[selectedCrime]) {
            const tipsList = document.createElement("ul");
            tipsList.className = "list-group"; // Bootstrap list group

            tipsData[selectedCrime].forEach(tip => {
                const tipItem = document.createElement("li");
                tipItem.className = "list-group-item"; // Bootstrap list group item
                tipItem.textContent = tip;
                tipsList.appendChild(tipItem);
            });

            tipsContainer.appendChild(tipsList);
        } else {
            tipsContainer.innerHTML = "<p class='text-danger'>No safety tips available for this crime type.</p>";
        }
    }
</script>
{% endblock %}